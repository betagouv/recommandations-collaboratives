<div x-data="{document: null}"
     x-show="document"
     x-effect="document = await getDocumentById(node.document_id)"
     class="document-item">
    <template x-if="document">
        <div class="document-item__content">
            <div class="document-item__info-container">
                <span class="fr-icon-file-line fr-btn--icon-left fr-icon-sm"></span>
                <span class="document-item__title" x-text="document.description"></span>
                <span class="document-item__filename" x-text="document.filename"></span>
                {% comment %} TODO: Add size {% endcomment %}
                {% comment %} <span class="document-item__size" x-text="`(${document.size})`"></span> {% endcomment %}
            </div>
            <div class="document-item__actions-container">
                <template x-if="document.uploaded_by == {{ request.user.id }} || $store.djangoData.canManageDocuments">
                    <button class="fr-btn fr-btn--sm fr-btn--tertiary fr-icon-delete-line"></button>
                </template>
                <a class="fr-btn fr-btn--sm fr-btn--tertiary"
                   :href="document.the_file"
                   target="_new"
                   download>Télécharger</a>
            </div>
        </div>
    </template>
</div>
