{% load static %}
{% load guardian_tags %}
{% get_obj_perms request.user for request.site as "user_site_perms" %}
{% get_obj_perms request.user for project as "user_project_perms" %}
{% if request.user == project.owner or request.user.is_staff and "change_project" in user_project_perms %}
    {% if project.inactive_since == None %}
        <div x-data="StandByProject()"
             data-test-id="admin-banner-deactivate-project"
             class="flag medium-border-radius border-red fr-mb-3w d-flex align-items-start justify-content-between">
            <div class="d-flex align-items-start">
                <svg class="fr-mr-3w"
                     xmlns="http://www.w3.org/2000/svg"
                     width="48"
                     height="48"
                     viewBox="0 0 48 48"
                     fill="none"
                     role="presentation">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M23.9885 6.40262C23.9885 3.12886 22.8636 1.25217 20.5582 1.25217C18.2529 1.25217 17.128 3.12886 17.128 6.40262C17.128 6.51024 17.1478 6.61323 17.1839 6.70815C12.3899 7.66218 9.6723 10.8719 8.82942 16.6386L8.75051 17.231C8.59336 18.5334 8.52604 19.9594 8.54642 21.5119L8.55268 21.8725L8.54893 22.6162L8.56242 23.0228C8.58168 24.7143 7.93485 26.8809 6.99232 28.2291L3.65523 32.8786L3.57226 33.0087C3.41863 33.2741 3.33911 33.5698 3.33911 33.8717C3.33911 34.8199 4.10699 35.5885 5.05422 35.5885L13.6978 35.5885C13.6978 40.0685 16.0827 42.4558 20.5582 42.4558C25.0338 42.4558 27.4187 40.0685 27.4187 35.5885L36.0623 35.5885L36.2124 35.5819C36.5111 35.5556 36.7987 35.4513 37.0458 35.2782C37.8218 34.7344 38.0105 33.6639 37.4673 32.8872L34.118 28.2204L33.9576 27.9813C33.1194 26.6759 32.5626 24.8995 32.5627 23.4431L32.5637 22.7366L32.5761 22.1699C32.5818 21.7957 32.5826 21.4287 32.5784 21.0688C32.5729 20.5947 32.1845 20.2149 31.7109 20.2204C31.2373 20.226 30.8579 20.6148 30.8634 21.0888C30.8695 21.6055 30.8647 22.1386 30.8492 22.6882L30.8476 23.4429L30.8537 23.7469C30.9267 25.5865 31.6485 27.6875 32.7198 29.2146L36.062 33.8708L5.05422 33.8717L8.39138 29.2221L8.54772 28.9895C9.67518 27.2454 10.3776 24.6821 10.2663 22.665L10.2647 22.6237L10.2674 21.8355L10.2613 21.4896C10.1319 11.9886 13.2495 8.11943 20.5582 8.11943C22.6451 8.11943 24.3792 8.48092 25.7846 9.20008C26.2063 9.41587 26.723 9.2486 26.9385 8.82648C27.1541 8.40435 26.987 7.88721 26.5653 7.67142C25.7616 7.26017 24.8801 6.95033 23.9198 6.73981C23.964 6.6363 23.9885 6.52232 23.9885 6.40262ZM22.2771 6.48358C22.2746 6.45693 22.2733 6.42992 22.2733 6.40262C22.2733 3.95366 21.6831 2.96898 20.5582 2.96898C19.4333 2.96898 18.8431 3.95366 18.8431 6.40262C18.8431 6.42697 18.8421 6.45109 18.8401 6.47493C19.3898 6.42661 19.9624 6.40262 20.5582 6.40262C21.1533 6.40262 21.7262 6.4295 22.2771 6.48358ZM15.4129 35.5885C15.4129 39.1203 17.0299 40.739 20.5582 40.739C24.0865 40.739 25.7036 39.1203 25.7036 35.5885H15.4129Z" fill="var(--background-action-high-blue-france)" />
                    <path d="M20.5582 46.7478C23.571 46.7478 26.1625 45.7856 28.0251 43.9212C28.36 43.5859 28.36 43.0424 28.0251 42.7072C27.6902 42.372 27.1472 42.372 26.8123 42.7072C25.2891 44.2319 23.1369 45.031 20.5582 45.031C20.0846 45.031 19.7007 45.4153 19.7007 45.8894C19.7007 46.3635 20.0846 46.7478 20.5582 46.7478Z" fill="var(--background-action-high-blue-france)" />
                    <path d="M29.9913 41.5974C29.5185 41.5974 29.1338 41.2123 29.1338 40.739C29.1338 40.2656 29.5185 39.8806 29.9913 39.8806C30.4642 39.8806 30.8489 40.2656 30.8489 40.739C30.8489 41.2123 30.4642 41.5974 29.9913 41.5974Z" fill="var(--background-action-high-blue-france)" />
                    <path d="M43.7122 18.4203C44.1858 18.4203 44.5698 18.8047 44.5698 19.2787C44.5698 19.719 44.2387 20.0818 43.8122 20.1314L43.7122 20.1372H40.282C39.8084 20.1372 39.4244 19.7528 39.4244 19.2787C39.4244 18.8385 39.7555 18.4757 40.182 18.4261L40.282 18.4203H43.7122Z" fill="var(--background-action-high-blue-france)" />
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M36.8518 14.9867H47.1424C47.616 14.9867 48 15.371 48 15.8451V22.7124L47.9942 22.8125C47.9447 23.2394 47.5822 23.5708 47.1424 23.5708H43.9146L40.6655 25.197L40.5747 25.2363C40.0266 25.4381 39.4244 25.0337 39.4244 24.4292V23.5708H36.8518C36.3782 23.5708 35.9942 23.1865 35.9942 22.7124V15.8451C35.9942 15.371 36.3782 14.9867 36.8518 14.9867ZM37.7093 16.7035V21.854H40.282L40.382 21.8597C40.8085 21.9093 41.1395 22.2722 41.1395 22.7124V23.0403L43.3287 21.9446L43.4201 21.9053C43.5135 21.8714 43.6124 21.854 43.7122 21.854H46.2849V16.7035H37.7093Z" fill="var(--background-action-high-blue-france)" />
                    <path d="M37.5652 5.0087L1.92883 40.6451" stroke="#CE0500" stroke-width="2" stroke-linecap="round" />
                </svg>
                <div class="d-flex flex-column w-65">
                    <span class="font-medium fw-medium">Mettre le projet en pause</span>
                    <p class="font-small fw-normal text-black-secondary fr-mb-0">
                        Vous ne recevrez plus de rappel ni de notification par email sur l'activité du projet. Les notifications seront désactivées pour le porteur du projet et ses partenaires. Vous pourrez réactiver le projet en retournant dans l’administration du projet.
                    </p>
                </div>
            </div>
            <div class="flex-grow-1">
                <button @click="openStandByProjectConfirmationModal"
                        data-test-id="button-open-modal-deactivate-project"
                        class="button red filled flex-grow-1 text-nowrap inherit">Mettre le projet en pause</button>
            </div>
            {% include "projects/project/fragments/administration/stand_by_project_modal_confirmation.html" %}
        </div>
    {% endif %}
{% endif %}
