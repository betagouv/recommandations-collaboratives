{% comment %}

Contact Card Component.
Be sure to include the following data transfer in your parent template.

Parameters:
- contact (object)

Example usage in parent:
<div x-data="{contact:myContactInParent}">
    {% include "tools/contacts/contact_card.html" %}
</div>

{% endcomment %}
{% load sass_tags %}
{% block css %}
    <link href="{% sass_src 'css/tools/contact/contact-card.scss' %}"
          rel="stylesheet"
          type="text/css" />
    <link href="{% sass_src 'css/tools/contact/search-contact-modal.scss' %}"
          rel="stylesheet"
          type="text/css" />
{% endblock css %}
<template x-if="contact">
    <div class="contact-card fr-p-3v bg-white" data-test-id="contact-card">
        <div class="contact-card__firstline-container">
            <span x-show="contact.first_name"
                  x-text="`${contact.first_name} ${contact.last_name}`"
                  :title="`${contact.first_name} ${contact.last_name}`"
                  class="contact-info__name contact-names fr-pr-1v"></span>
            <span x-show="contact.organization.name"
                  x-text="contact.organization.name"
                  :title="contact.organization.name"
                  class="contact-info__organization color-3a3a3a text-position"></span>
        </div>
        <div :title="contact.division"
             x-show="contact.division"
             class="contact-info__division">
            <span x-text="contact.division" class="color-3a3a3a text-organisation"></span>
        </div>
        <div x-show="!contact.division" class="contact-info-empty__division"></div>
        <div x-show="contact.email" class="contact-info__email">
            <a :href="'mailto:'+contact.email"
               class="contact-card__link text-position">
                <span class="fr-icon--sm fr-icon-link" x-text="contact.email"></span>
            </a>
        </div>
        <div x-show="!contact.email" class="contact-info-empty__email"></div>
        <div x-show="contact.phone_no" class="contact-info__phone">
            <a :href="'tel:'+contact.phone_no"
               class="contact-card__link text-position">
                <span class="fr-icon--sm fr-icon-phone-line" x-text="contact.phone_no"></span>
            </a>
        </div>
        <div x-show="!contact.phone_no" class="contact-info-empty__phone"></div>
        <div x-show="contact.mobile_no" class="contact-info__phone">
            <a :href="'tel:'+contact.mobile_no"
               class="contact-card__link text-position">
                <span class="fr-icon--sm fr-icon-phone-line" x-text="contact.mobile_no"></span>
            </a>
        </div>
        <div x-show="!contact.mobile_no" class="contact-info-empty__phone"></div>
        <template x-if="contact.modified">
            <div class="contact-card__updated-at contact-info__updated-at">
                <span class="text-date">mis à jour le</span>
                <span class="text-date"
                      x-text="`${formatDate(contact.modified, { year: 'numeric', month: 'long', day: 'numeric' })}`"></span>
            </div>
        </template>
        <template x-if="contact.created && !contact.modified">
            <div class="contact-card__updated-at contact-info__updated-at">
                <span class="text-date">mis à jour le</span>
                <span class="text-date"
                      x-text="`${formatDate(contact.created, { year: 'numeric', month: 'long', day: 'numeric' })}`"></span>
            </div>
        </template>
    </div>
</template>
